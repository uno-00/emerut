.proposal-page {
  position: relative;
  min-height: 100vh;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

.proposal-page--celebrating .proposal-content {
  opacity: 0.6;
  transform: scale(0.98);
  transition: opacity 0.4s, transform 0.4s;
}

/* Floating hearts background */
.hearts-bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.heart-float {
  position: absolute;
  font-size: clamp(0.9rem, 2.5vw, 1.4rem);
  color: rgba(255, 105, 135, 0.28);
  animation: float 10s ease-in-out infinite;
  animation-delay: calc(var(--delay, 0) * 1s);
  left: calc(var(--left, 0) * 1%);
  top: calc(var(--top, 0) * 1%);
  transform: scale(var(--size, 1));
}

@keyframes float {
  0%, 100% {
    transform: translateY(0) scale(var(--size, 1));
    opacity: 0.28;
  }
  50% {
    transform: translateY(-24px) scale(calc(var(--size, 1) * 1.15));
    opacity: 0.55;
  }
}

/* Heart burst on yes */
.heart-burst {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
}

.heart-burst-item {
  position: absolute;
  font-size: 1.5rem;
  color: #ff6b8a;
  animation: burst 1.2s ease-out forwards;
  opacity: 0;
}

@keyframes burst {
  0% {
    opacity: 0;
    transform: translate(0, 0) scale(0.3);
  }
  15% {
    opacity: 1;
    transform: translate(
        calc(var(--x) * 0.25),
        calc(var(--y) * 0.25)
      )
      scale(1);
  }
  100% {
    opacity: 0.6;
    transform: translate(var(--x), var(--y)) scale(1.15);
  }
}

/* Content */
.proposal-content {
  position: relative;
  z-index: 1;
  text-align: center;
  padding: clamp(1rem, 4vw, 2rem);
  max-width: min(540px, 96vw);
  width: 100%;
  animation: contentIn 0.8s ease-out;
}

.proposal-glass {
  position: relative;
  padding: clamp(1.5rem, 4vw, 2.25rem) clamp(1.25rem, 4vw, 2rem);
  border-radius: clamp(20px, 5vw, 28px);
  background: rgba(255, 255, 255, 0.03);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow:
    0 24px 48px rgba(0, 0, 0, 0.25),
    0 0 0 1px rgba(255, 107, 138, 0.08);
}

.proposal-glass::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: 29px;
  padding: 1px;
  background: linear-gradient(145deg, rgba(255, 107, 138, 0.15), transparent 50%, rgba(168, 50, 86, 0.08));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

@keyframes contentIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.proposal-prefix {
  font-size: 1.25rem;
  color: rgba(255, 255, 255, 0.88);
  margin-bottom: 0.5rem;
  font-style: italic;
  animation: contentIn 0.6s ease-out 0.1s both;
}

.proposal-title {
  font-family: 'Playfair Display', 'Georgia', serif;
  font-size: clamp(1.5rem, 5.5vw + 0.5rem, 2.75rem);
  font-weight: 600;
  line-height: 1.3;
  margin: 0 0 0.5rem;
  color: #fff;
  animation: contentIn 0.6s ease-out 0.2s both;
  word-break: break-word;
}

.proposal-title .highlight {
  color: #ff6b8a;
  text-shadow: 0 0 24px rgba(255, 107, 138, 0.45);
  position: relative;
}

.proposal-sub {
  font-size: clamp(0.875rem, 2.5vw, 0.95rem);
  color: rgba(255, 255, 255, 0.78);
  margin-bottom: clamp(1.5rem, 5vw, 2.5rem);
  animation: contentIn 0.6s ease-out 0.3s both;
}

.buttons-wrap {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
  animation: contentIn 0.6s ease-out 0.45s both;
}

.btn-yes {
  padding: clamp(0.75rem, 2.5vw, 0.95rem) clamp(1.5rem, 4vw, 2.2rem);
  min-height: 44px;
  min-width: 44px;
  font-size: clamp(1rem, 2.5vw, 1.15rem);
  font-weight: 600;
  border: none;
  border-radius: 999px;
  cursor: pointer;
  background: linear-gradient(135deg, #ff6b8a 0%, #e84363 100%);
  color: #fff;
  box-shadow: 0 4px 24px rgba(232, 67, 99, 0.45);
  transition: transform 0.2s, box-shadow 0.2s;
  -webkit-tap-highlight-color: transparent;
}

.btn-yes:hover {
  transform: scale(1.06);
  box-shadow: 0 8px 32px rgba(232, 67, 99, 0.5);
}

.btn-yes:active {
  transform: scale(0.98);
}

.btn-yes--hover {
  transform: scale(1.1);
  box-shadow: 0 10px 36px rgba(232, 67, 99, 0.55);
}

.btn-yes-2 {
  background: linear-gradient(135deg, #c44569 0%, #a83256 100%);
  box-shadow: 0 4px 24px rgba(168, 50, 86, 0.4);
}

.btn-yes-2:hover {
  box-shadow: 0 8px 32px rgba(168, 50, 86, 0.5);
}

.or-text {
  color: rgba(255, 255, 255, 0.65);
  font-size: clamp(0.85rem, 2.2vw, 0.9rem);
  font-weight: 500;
}

/* Responsive: small screens */
@media (max-width: 480px) {
  .buttons-wrap {
    gap: 0.75rem;
  }
  .heart-burst-item {
    font-size: 1.25rem;
  }
}

@media (max-width: 360px) {
  .proposal-glass {
    padding: 1.25rem 1rem;
  }
  .proposal-prefix {
    font-size: 1.1rem;
  }
}
